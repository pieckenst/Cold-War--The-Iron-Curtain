scripted_gui = {

	position_1_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_1_diplo"
		
		visible = {
            check_variable = { total_influencers > 0 }
		}
		
		effects = { }
	}
	position_2_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_2_diplo"
		
		visible = {
            check_variable = { total_influencers > 1 }
		}
		
		effects = { }
	}
	position_3_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_3_diplo"
		
		visible = {
            check_variable = { total_influencers > 2 }
		}
		
		effects = { }
	}
	position_4_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_4_diplo"
		
		visible = {
            check_variable = { total_influencers > 3 }
		}
		
		effects = { }
	}
	position_5_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_5_diplo"
		
		visible = {
            check_variable = { total_influencers > 4 }
		}
		
		effects = { }
	}
	position_6_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_6_diplo"
		
		visible = {
            check_variable = { total_influencers > 5 }
		}
		
		effects = { }
	}
	position_7_diplo = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "position_7_diplo"
		
		visible = {
            check_variable = { total_influencers > 6 }
		}
		
		effects = { }
	}
	
	domestic_influence_diplo_menu = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "domestic_influence_diplo_menu"
		
		visible = {
		   OR = {
				check_variable = { influencer1 = ROOT } 
				check_variable = { influencer2 = ROOT } 
				check_variable = { influencer3 = ROOT } 
				check_variable = { influencer4 = ROOT } 
				check_variable = { influencer5 = ROOT } 
				check_variable = { influencer6 = ROOT } 
				check_variable = { influencer7 = ROOT } 
		   }
		}
		
		effects = {
			domestic_influence_diplo_menu_exit_click = {
				set_variable = { influence_menu_show = 0 } 
			}	
			#Positive Actions
			economic_investments_click = {		
				add_ideas = foriegn_economic_investments
				ROOT = { add_political_power = -300 }
				fifty_point_influence_gain = yes
				set_recent_action_check = yes
				recalculate_influence = yes
			}
			send_infantry_equipment_click = {	
				set_recent_action_check = yes
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 25000
					producer = ROOT
				}
				ROOT = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = -25000
					}			
				}			
				fifty_point_influence_gain = yes
				recalculate_influence = yes
			}
			defense_treaty_click = {	
				set_recent_action_check = yes
				ROOT = {
					give_guarantee = PREV
				}
				give_military_access = ROOT
				ROOT = { add_political_power = -500 }
				hundred_point_influence_gain = yes
				recalculate_influence = yes				
			}
			civil_war_intevention_click = {	
				set_recent_action_check = yes
				random_country = { 
					limit = {
						has_civil_war = yes
						original_tag = THIS
						NOT = { tag = THIS }
					}
					set_variable = { war_target = THIS.id }
				}	
				add_to_war = { 
					targeted_alliance = ROOT 
					enemy = var:war_target 
					hostility_reason = asked_to_join
				}
				ROOT = {
					add_threat = 5
				}
				give_military_access = ROOT
				ROOT = { add_political_power = -1000 }
				clear_variable = war_target
				three_hundred_point_influence_gain = yes
				recalculate_influence = yes				
			}

			trade_agreement_click = {
				set_recent_action_check = yes
				sign_trade_agreement_inv = yes
				sign_trade_agreement = yes	
				ROOT = { 
					add_political_power = -500
				}
				three_hundred_point_influence_gain = yes
				recalculate_influence = yes				
			}
			#Negative Actions
			political_influence_click = {
				set_recent_action_check = yes
				influence_nation = yes
				ROOT = { 
					add_political_power = -100
				}
				hundred_point_influence_cost = yes
				recalculate_influence = yes				
			}
			attempt_political_coup_click = {
				set_recent_action_check = yes
				country_event = influence_coup.1
			}
		}
		triggers = {
			economic_investments_click_enabled = {
				NOT = { has_idea = foriegn_economic_investments }
				no_recent_action_in_target = no
			}
			send_infantry_equipment_click_enabled = {
				no_recent_action_in_target = no
			}
			defense_treaty_click_enabled = {
				not_signed_defense_treaty = no
				no_recent_action_in_target = no
			}
			civil_war_intevention_click_enabled = {
				#not_intervened_already = no
				has_civil_war = yes
			}
			trade_agreement_click_enabled = {
				#not_signed_trade_deal = no
				no_recent_action_in_target = no
			}
			political_influence_click_enabled = {
				no_recent_action_in_target = no
			}
			attempt_political_coup_click_enabled = {
				no_recent_action_in_target = no
			}
		}
	}
}

